# MangoWC Configuration
# Based on migrated Hyprland config

# Appearance & Theme
gappiv=1
gappih=1
gappov=1
gappoh=1
borderpx=1
border_radius=0
focused_opacity=1.0
unfocused_opacity=0.85

# Colors (Extracted from Pywal/Hyprland fallbacks where applicable)
# focuscolor=0xc9b890ff
# bordercolor=0x444444ff

# Effects
blur=0
shadows=0

# Environment Variables
env=GTK_THEME,Flat-Remix-GTK-Blue-Darkest
env=XCURSOR_THEME,Adwaita
env=XCURSOR_SIZE,24
env=HYPRCURSOR_THEME,Bibata-Modern-Classic
env=HYPRCURSOR_SIZE,24
env=QT_STYLE_OVERRIDE,kvantum
env=QT_QPA_PLATFORMTHEME,kvantum
env=QT_QUICK_CONTROLS_STYLE,kvantum
env=AQ_DRM_DEVICES,/dev/dri/card2:/dev/dri/card1
env=AQ_FORCE_LINEAR_BLIT,0
env=PIPEWIRE_LATENCY,128/48000
env=PIPEWIRE_QUANTUM,128/48000

# Input & Trackpad
xkb_rules_layout=be
trackpad_natural_scrolling=1
tap_to_click=1
mouse_natural_scrolling=0

# System Autostarts
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP GTK_THEME QT_QPA_PLATFORMTHEME QT_STYLE_OVERRIDE XCURSOR_THEME XCURSOR_SIZE
exec-once=systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP GTK_THEME QT_QPA_PLATFORMTHEME QT_STYLE_OVERRIDE XCURSOR_THEME XCURSOR_SIZE
exec-once=waybar
exec-once=asustctl -k off
exec-once=swww-daemon
exec-once=nm-applet --indicator
exec-once=/usr/lib/polkit-gnome-authentication-agent-1
exec-once=GDK_BACKEND=wayland swaync
exec-once=~/.config/hypr/scripts/battery-notify.sh
exec-once=gsettings set org.gnome.desktop.interface gtk-theme "Flat-Remix-GTK-Blue-Darkest"
exec-once=gsettings set org.gnome.desktop.interface icon-theme "Tela-circle-grey-dark"
exec-once=gsettings set org.gnome.desktop.interface cursor-theme "Adwaita"
exec-once=gsettings set org.gnome.desktop.interface font-name "Iosevka Nerd Font 11"
exec-once=wl-paste --type text --watch cliphist store
exec-once=wl-paste --type image --watch cliphist store
exec-once=systemctl --user enable --now pipewire pipewire-pulse wireplumber

# Application Shortcuts
bind=SUPER,Return,spawn,alacritty
bind=SUPER,e,spawn,dolphin
bind=SUPER,SPACE,spawn,rofi -show combi -modi drun,run,combi -combi-modi drun,run -combi-hide-mode-prefix true -theme ~/.config/rofi/config.rasi
bind=SUPER,b,spawn,helium-browser

# Window Management Keybinds
bind=SUPER,a,killclient
bind=SUPER+SHIFT,r,reload_config
bind=SUPER+SHIFT,r,spawn,notify-send "MangoWC" "Config reloaded"
bind=SUPER+SHIFT,comma,spawn,loginctl terminate-user ""
bind=SUPER,v,togglefloating,
bind=SUPER+SHIFT,f,togglefloating,
bind=SUPER,p,toggleglobal,
bind=SUPER,f,togglefullscreen,
bind=SUPER,h,focusdir,left
bind=SUPER,l,focusdir,right
bind=SUPER,k,focusdir,up
bind=SUPER,j,focusdir,down

# Workspaces / Tags (use physical number row via keycodes for AZERTY/QWERTY consistency)
bind=SUPER,code:10,view,1,0
bind=SUPER,code:11,view,2,0
bind=SUPER,code:12,view,3,0
bind=SUPER,code:13,view,4,0
bind=SUPER,code:14,view,5,0
bind=SUPER,code:15,view,6,0
bind=SUPER,code:16,view,7,0
bind=SUPER,code:17,view,8,0
bind=SUPER,code:18,view,9,0
bind=SUPER,code:19,view,10,0

# Move window silently to tag
bind=SUPER+SHIFT,code:10,tagsilent,1
bind=SUPER+SHIFT,code:11,tagsilent,2
bind=SUPER+SHIFT,code:12,tagsilent,3
bind=SUPER+SHIFT,code:13,tagsilent,4
bind=SUPER+SHIFT,code:14,tagsilent,5
bind=SUPER+SHIFT,code:15,tagsilent,6
bind=SUPER+SHIFT,code:16,tagsilent,7
bind=SUPER+SHIFT,code:17,tagsilent,8
bind=SUPER+SHIFT,code:18,tagsilent,9
bind=SUPER+SHIFT,code:19,tagsilent,10

# Move window to tag and view tag
bind=SUPER+CTRL,code:10,tag,1,0
bind=SUPER+CTRL,code:10,view,1,0
bind=SUPER+CTRL,code:11,tag,2,0
bind=SUPER+CTRL,code:11,view,2,0
bind=SUPER+CTRL,code:12,tag,3,0
bind=SUPER+CTRL,code:12,view,3,0
bind=SUPER+CTRL,code:13,tag,4,0
bind=SUPER+CTRL,code:13,view,4,0
bind=SUPER+CTRL,code:14,tag,5,0
bind=SUPER+CTRL,code:14,view,5,0
bind=SUPER+CTRL,code:15,tag,6,0
bind=SUPER+CTRL,code:15,view,6,0
bind=SUPER+CTRL,code:16,tag,7,0
bind=SUPER+CTRL,code:16,view,7,0
bind=SUPER+CTRL,code:17,tag,8,0
bind=SUPER+CTRL,code:17,view,8,0
bind=SUPER+CTRL,code:18,tag,9,0
bind=SUPER+CTRL,code:18,view,9,0
bind=SUPER+CTRL,code:19,tag,10,0
bind=SUPER+CTRL,code:19,view,10,0

# Mouse Bindings for move/resize
mousebind=SUPER,btn_left,moveresize,curmove
mousebind=SUPER,btn_right,moveresize,curresize

# Media & Volume (Fast volume via spawn)
bind=NONE,XF86AudioRaiseVolume,spawn,wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 2%+ && pkill -RTMIN+10 waybar
bind=NONE,XF86AudioLowerVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%- && pkill -RTMIN+10 waybar
bind=NONE,XF86AudioMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle && pkill -RTMIN+10 waybar
bind=NONE,XF86AudioPlay,spawn,playerctl play-pause
bind=NONE,XF86AudioNext,spawn,playerctl next
bind=NONE,XF86AudioPrev,spawn,playerctl previous

# Brightness
bind=NONE,XF86MonBrightnessUp,spawn,brightnessctl set 5%+
bind=NONE,XF86MonBrightnessDown,spawn,brightnessctl set 5%-

# Misc Shortcuts
bind=SUPER+SHIFT,o,spawn,swaylock-fancy -e -K -p 10 -f Hack-Regular
bind=SUPER,d,spawn,~/.config/waybar/scripts/touchpad-toggle.sh
bind=SUPER,z,spawn,~/.config/hypr/scripts/wallpaper.sh
bind=SUPER+SHIFT,z,spawn,~/.config/hypr/scripts/wallpaper-select.sh
bind=SUPER+SHIFT,t,spawn,~/.config/hypr/scripts/theme-select.sh
bind=SUPER,g,spawn,~/.config/hypr/scripts/gamemode.sh
bind=SUPER+SHIFT+CTRL,q,spawn,~/.config/hypr/scripts/autoclicker.py toggle
bind=SUPER,u,spawn,~/.config/waybar/waybar.sh
bind=SUPER,c,spawn,cliphist list | rofi -dmenu -theme ~/.config/rofi/config.rasi | cliphist decode | wl-copy
bind=SUPER,n,spawn,swaync-client -t -sw
bind=ALT,tab,spawn,hyprswitch gui --mod-key alt --key tab --max-switch-offset 9 --hide-active-window-border

# Screenshots (from Hyprland)
bind=SUPER+SHIFT,s,spawn,~/.config/hypr/scripts/screenshot_full
bind=SUPER,q,spawn,grim -g "$(slurp)" - | swappy -f -
bind=SUPER,w,spawn,~/.config/hypr/scripts/screenshot

# Window Rules
windowrule=appid:rofi,isfloating:1
windowrule=appid:org.pulseaudio.pavucontrol,isfloating:1
windowrule=appid:blueman-manager,isfloating:1
windowrule=appid:CachyOSHello,isfloating:1
windowrule=appid:zenity,isfloating:1
windowrule=appid:gnome-calculator,isfloating:1
windowrule=appid:Gnome-calculator,isfloating:1
windowrule=appid:thunar,focused_opacity:0.92,unfocused_opacity:0.92
windowrule=appid:nemo,focused_opacity:0.92,unfocused_opacity:0.92
windowrule=title:QQ,focused_opacity:0.95,unfocused_opacity:0.95
windowrule=title:Telegram,focused_opacity:0.95,unfocused_opacity:0.95
windowrule=appid:org.mozilla.firefox,noblur:1
windowrule=appid:Alacritty,noblur:1
